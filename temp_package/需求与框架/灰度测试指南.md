# 三国文字沙箱游戏 - 灰度测试指南

## 测试目标
验证核心循环（场景呈现→玩家输入→LLM裁决→状态更新→叙事反馈）的实际体验，收集首批用户反馈。

## 测试包信息
- 版本号：0.1.0-alpha
- 构建时间：2026年2月10日
- 首包大小：20.5 KB（远低于4MB限制）
- 包含文件：
  - `game.min.js` - 游戏入口文件（压缩后）
  - `config.min.js` - 配置文件（压缩后）
  - `main.min.js` - 游戏主逻辑（压缩后）
  - `save.min.js` - 存档系统（压缩后）
  - `game.json` - 微信小游戏配置文件

## 部署步骤

### 1. 导入微信开发者工具
1. 下载测试包文件（`dist/` 目录下的所有文件）
2. 打开微信开发者工具
3. 选择"导入项目"
4. 项目目录选择包含测试包文件的文件夹
5. AppID：使用测试号或申请体验版AppID
6. 点击"导入"

### 2. 配置服务端地址
1. 在微信开发者工具中打开 `config.min.js`
2. 修改 `API_BASE_URL` 为实际部署的服务端地址：
   ```javascript
   API_BASE_URL: 'https://your-server-domain.com'
   ```
3. 保存文件

### 3. 启动本地服务端（可选）
如需本地测试，可启动内置服务端：
```bash
npm start
```
服务端默认运行在 http://localhost:3000

### 4. 预览与调试
1. 点击"预览"生成二维码
2. 使用微信扫描二维码即可在真机体验
3. 或直接在开发者工具中调试

## 测试流程

### 测试时长
建议至少30分钟连续试玩

### 核心测试点
1. **叙事连贯性**：观察场景切换、事件发展是否自然
2. **输入响应速度**：记录从输入到反馈的时间
3. **界面易用性**：评估界面布局、交互设计
4. **系统稳定性**：注意是否出现崩溃、错误提示
5. **内容合规性**：测试敏感词过滤是否有效

### 推荐测试路径
- 路径A：顺史路线 - 跟随历史主线推进
- 路径B：改史路线 - 尝试改变历史走向
- 路径C：自由探索 - 随意输入各种意图

## 反馈收集

### 问卷填写
请测试人员填写 [用户反馈问卷](outputs/灰度测试/用户反馈问卷.md)

### 日志收集
如遇问题，请提供以下信息：
1. 错误截图
2. 控制台日志
3. 操作复现步骤

### 提交方式
- 问卷：发送至 test-feedback@example.com
- 问题反馈：提交至 issue 跟踪系统
- 紧急问题：联系测试负责人

## 已知问题
1. DeepSeek API偶尔响应较慢（2-5秒）
2. 部分边缘意图可能触发规则兜底而非LLM裁决
3. 存档加载界面在首次使用时需要权限授权

## 成功标准
- 至少3名测试人员完成30分钟试玩
- 收集至少10条具体改进意见
- 识别并确认3个以上需优先修复的问题

---

**测试负责人**：张三  
**联系方式**：zhangsan@example.com  
**测试周期**：2026年2月10日-2月12日