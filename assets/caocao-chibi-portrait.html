<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>曹操 Q 版立绘 · 表情切换</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 24px;
      min-height: 100vh;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
      color: #e0e0e0;
    }
    h1 { font-size: 1.25rem; margin-bottom: 16px; }
    .card {
      background: rgba(255,255,255,0.06);
      border-radius: 16px;
      padding: 24px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
    }
    .svg-wrap {
      width: 512px;
      height: 512px;
      border-radius: 12px;
      overflow: hidden;
      background: transparent;
    }
    .svg-wrap svg {
      display: block;
      width: 100%;
      height: 100%;
    }
    .controls {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .controls button {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      background: #38bdf8;
      color: #0f172a;
      font-weight: 600;
      cursor: pointer;
    }
    .controls button:hover { background: #7dd3fc; }
    .controls button.active { background: #f59e0b; color: #fff; }
  </style>
</head>
<body>
  <div class="card">
    <h1>曹操 · Q 版立绘（512×512）</h1>
    <div class="svg-wrap" id="portrait"></div>
    <div class="controls">
      <button data-emotion="normal" class="active">威严 · normal</button>
      <button data-emotion="angry">愤怒 · angry</button>
      <button data-emotion="defeat">败北 · defeat</button>
      <button data-emotion="happy">喜悦 · happy</button>
    </div>
  </div>

  <script>
    const EMOTIONS = ["normal", "angry", "defeat", "happy"];

    function renderPortrait(emotion) {
      const isNormal = emotion === "normal";
      const isAngry = emotion === "angry";
      const isDefeat = emotion === "defeat";
      const isHappy = emotion === "happy";

      return `
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="512" height="512">
  <defs>
    <linearGradient id="robeGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#7c3aed"/>
      <stop offset="100%" stop-color="#5b21b6"/>
    </linearGradient>
    <linearGradient id="crownGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#fde047"/>
      <stop offset="50%" stop-color="#facc15"/>
      <stop offset="100%" stop-color="#eab308"/>
    </linearGradient>
    <linearGradient id="skinGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#fef3c7"/>
      <stop offset="100%" stop-color="#fde68a"/>
    </linearGradient>
  </defs>

  <!-- 身体：紫色袍服 -->
  <g stroke="#1e1b4b" stroke-width="4" fill="url(#robeGrad)">
    <path d="M 156 320 Q 256 380 356 320 L 360 480 L 152 480 Z"/>
    <path d="M 256 320 L 256 480" stroke-width="3" opacity="0.4"/>
  </g>

  <!-- 袍服领口与袖口 -->
  <g fill="#4c1d95" stroke="#1e1b4b" stroke-width="3">
    <ellipse cx="256" cy="318" rx="102" ry="18"/>
    <path d="M 140 328 L 120 400 Q 136 398 152 340 Z"/>
    <path d="M 372 328 L 392 400 Q 376 398 360 340 Z"/>
  </g>

  <!-- 头部（肤色） -->
  <g fill="url(#skinGrad)" stroke="#b45309" stroke-width="4">
    <ellipse cx="256" cy="220" rx="100" ry="108"/>
  </g>

  <!-- 金冠 -->
  <g fill="url(#crownGrad)" stroke="#a16207" stroke-width="3">
    <path d="M 176 140 L 196 100 L 216 130 L 236 95 L 256 125 L 276 95 L 296 130 L 316 100 L 336 140 L 320 145 L 256 115 L 192 145 Z"/>
    <rect x="166" y="145" width="180" height="22" rx="4"/>
    <path d="M 186 167 L 196 195 L 256 175 L 316 195 L 326 167" fill="none" stroke="#a16207" stroke-width="2"/>
  </g>

  <!-- 黑色短须 -->
  <g fill="#1f2937" stroke="#0f172a" stroke-width="2">
    <path d="M 220 268 Q 236 282 256 278 Q 276 282 292 268 L 288 272 Q 268 284 256 280 Q 244 284 224 272 Z"/>
    <path d="M 232 278 L 256 288 L 280 278" stroke="#374151" stroke-width="1.5" fill="none"/>
  </g>

  <!-- ========== 眼睛（按 emotion 切换） ========== -->
  <!-- normal: 威严平视 -->
  <g id="eyes-normal" visibility="${isNormal ? "visible" : "hidden"}">
    <ellipse cx="218" cy="208" rx="14" ry="18" fill="#1e293b" stroke="#0f172a" stroke-width="3"/>
    <ellipse cx="294" cy="208" rx="14" ry="18" fill="#1e293b" stroke="#0f172a" stroke-width="3"/>
    <ellipse cx="222" cy="204" rx="4" ry="5" fill="#f8fafc"/>
    <ellipse cx="298" cy="204" rx="4" ry="5" fill="#f8fafc"/>
  </g>
  <!-- angry: 倒八字眉 + 瞪眼 -->
  <g id="eyes-angry" visibility="${isAngry ? "visible" : "hidden"}">
    <path d="M 198 198 L 228 202" stroke="#1e293b" stroke-width="5" stroke-linecap="round"/>
    <path d="M 324 198 L 294 202" stroke="#1e293b" stroke-width="5" stroke-linecap="round"/>
    <ellipse cx="218" cy="212" rx="12" ry="14" fill="#1e293b" stroke="#0f172a" stroke-width="3"/>
    <ellipse cx="294" cy="212" rx="12" ry="14" fill="#1e293b" stroke="#0f172a" stroke-width="3"/>
  </g>
  <!-- defeat: > < -->
  <g id="eyes-defeat" visibility="${isDefeat ? "visible" : "hidden"}">
    <path d="M 208 208 L 228 218 L 208 228" fill="none" stroke="#1e293b" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M 304 208 L 284 218 L 304 228" fill="none" stroke="#1e293b" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
  </g>
  <!-- happy: 眯眯眼 -->
  <g id="eyes-happy" visibility="${isHappy ? "visible" : "hidden"}">
    <path d="M 202 208 Q 218 218 234 208" fill="none" stroke="#1e293b" stroke-width="4" stroke-linecap="round"/>
    <path d="M 278 208 Q 294 218 310 208" fill="none" stroke="#1e293b" stroke-width="4" stroke-linecap="round"/>
  </g>

  <!-- ========== 嘴巴（按 emotion 切换） ========== -->
  <!-- normal -->
  <g id="mouth-normal" visibility="${isNormal ? "visible" : "hidden"}">
    <path d="M 238 258 Q 256 264 274 258" fill="none" stroke="#78350f" stroke-width="3" stroke-linecap="round"/>
  </g>
  <!-- angry: 方块大嘴 -->
  <g id="mouth-angry" visibility="${isAngry ? "visible" : "hidden"}">
    <rect x="218" y="248" width="76" height="28" rx="4" fill="#7f1d1d" stroke="#450a0a" stroke-width="3"/>
    <line x1="228" y1="258" x2="308" y2="258" stroke="#450a0a" stroke-width="2"/>
  </g>
  <!-- defeat: 嘴角下撇 -->
  <g id="mouth-defeat" visibility="${isDefeat ? "visible" : "hidden"}">
    <path d="M 228 268 Q 256 258 284 268" fill="none" stroke="#78350f" stroke-width="3" stroke-linecap="round"/>
  </g>
  <!-- happy: 大笑 -->
  <g id="mouth-happy" visibility="${isHappy ? "visible" : "hidden"}">
    <path d="M 218 252 Q 256 282 294 252" fill="#fecaca" stroke="#b91c1c" stroke-width="3"/>
    <path d="M 228 258 Q 256 272 284 258" fill="none" stroke="#7f1d1d" stroke-width="2" stroke-linecap="round"/>
  </g>
</svg>
    `.trim();
    }

    const container = document.getElementById("portrait");
    function setEmotion(emotion) {
      container.innerHTML = renderPortrait(emotion);
      document.querySelectorAll(".controls button").forEach((btn) => {
        btn.classList.toggle("active", btn.dataset.emotion === emotion);
      });
    }

    document.querySelectorAll(".controls button").forEach((btn) => {
      btn.addEventListener("click", () => setEmotion(btn.dataset.emotion));
    });

    setEmotion("normal");
  </script>
</body>
</html>
