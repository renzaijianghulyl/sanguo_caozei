# 三国文字沙箱微信小游戏 - PRD (V1)

## 1. 项目概述
- 项目名称: 三国文字沙箱微信小游戏
- 项目类型: 基于大模型的文字交互式微信小游戏
- 核心卖点: 叙事驱动、传奇自由度、可改史或顺史
- 灵感来源: 网络穿越小说《曹贼》、三国志13单人剧情、三国志14事件

## 2. 产品目标与原则
- 目标: 上线可玩MVP, 验证“AI + 互动叙事”的可行性
- 原则:
  - 叙事优先: 每次输入都推进剧情
  - 传奇自由度优先: 允许YY设定, 但世界会回应
  - 规则可解释: 结果可追溯到属性、关系、环境
  - 失败也推进: 失败带来信息或关系变化

## 3. 用户画像
- 三国题材爱好者
- 互动小说/剧情向游戏用户
- 轻量策略、强代入玩家

## 4. 核心体验
- 玩家在黄巾之乱前后穿越进入三国
- 可完全自由设定开局(身份/携带物/知识/目标/性格)
- 输入自然语言意图, 系统裁决重要性与影响
- 走向分支, 可改史或顺史

## 5. 核心循环
1. 场景呈现
2. 玩家输入意图
3. LLM裁决(重要性/影响/代价/钩子)
4. 状态更新(玩家/世界/NPC/事件)
5. 叙事反馈与推进

## 6. 核心系统
- 6.1 开局设定系统
  - 自由设定: 身份/携带物/知识技能/目标/性格
  - 设定强度标记: 现实/半传奇/传奇
- 6.2 属性系统
  - 基础属性: 武力/智力/魅力/运气
  - 叙事属性: 传奇度/名望/声望
- 6.3 意图裁决系统
  - 重要性分级: 全局/支线/无影响
  - 结果结构: 成功/代价/连锁/后续钩子
- 6.4 事件系统
  - 事件模板化
  - 主线/支线/随机
  - 去重与冷却
- 6.5 关系与势力系统
  - NPC立场、好感、动机
  - 势力态势与影响力
- 6.6 存档系统
  - 本地持久化
  - 事件去重

## 7. MVP内容范围
- 时间: 黄巾之乱前后
- 地域: 颍川及周边一郡
- NPC: 6-10核心NPC
- 事件: 15-25个(含主线/支线/随机)
- 结局: 2-3个雏形

## 8. 平台与合规
- 微信小游戏首包 <= 4MB
- 资源分包与动态加载
- 内容合规过滤, 禁止敏感极端表达

## 9. 关键指标(初期)
- 20-30分钟连续可玩
- 每次输入都有有效反馈
- LLM失败率可控, 体验不中断

## 10. 里程碑(紧凑MVP)
- 第1周: 垂直切片(单场景闭环)
- 第2周: 核心闭环(裁决+存档)
- 第3周: 内容成型(15-20事件, 6-10 NPC)
- 第4周: 稳定与合规(兜底/性能/审核)
- 第5周: 上线准备(灰度测试/包体优化)

## 11. 风险与对策
- LLM不稳定: 重试 + JSON修复 + 规则兜底
- 内容合规: 服务端过滤 + 安全回退
- 体验不连贯: 事件模板与叙事一致性检查
