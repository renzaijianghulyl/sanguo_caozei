# 三国沙盒 · 资源任务清单

本文档基于 `src/data/sanguoDb/` 与 `src/config/index.ts` 中的 NPC、Region、Scene 定义生成。所有 `asset_id` 与代码中使用的 ID 保持一致，便于后续在渲染层或资源配置中引用。

---

## 数据库内容统计（概览）

当前项目里**结构化数据**的规模如下，方便你心里有数：哪些是「只有这一份」、哪些可以后续扩展。

| 数据类型 | 来源文件 | 数量 | 说明 |
|----------|----------|------|------|
| **NPC（武将）** | `src/data/sanguoDb/raw/npcs_184.json` | **40** | 是的，目前只有 40 个。id 2001～2040，含性格、台词风格、出生/卒年、所属势力等。 |
| **Region（区域/地点）** | `src/data/sanguoDb/raw/regions_184.json` | **16** | 是的，地点加起来只有 16 个。id 1001～1016（洛阳、邺城、许昌、虎牢关等），含 type、地标、地貌描述。 |
| **Scene（场景类型）** | `src/config/index.ts` 的 `SCENE_DISPLAY_NAMES` | **6** | village / city / camp / inn / temple / prison，与 Region 组合成玩家 `location`。 |
| **时间线事件** | `src/data/sanguoDb/raw/*_timeline.json`（12 个文件） | **约 187** | 184～280 年重大史实（如黄巾起义、官渡之战、诸葛亮病逝），带 summary、narrative_hooks、hard_effects 等。 |
| **羁绊·初始门槛** | `src/data/bond/initialBonds.json` | **3 条** | 仅 3 名 NPC 有非零配置：皇甫嵩(2006)、曹操(2010)、荀彧(2029) 的 encounter_threshold（恶名过高时拒见）。 |
| **羁绊·亲密度档位** | `src/data/bond/affinityTiers.json` | **4 档** | 萍水相逢 / 相识 / 知交 / 莫逆，对应 narrativeHint。 |
| **羁绊·关系里程碑模板** | `src/data/bond/milestoneTemplates.json` | **12 条** | 如义结金兰、结婚、师徒、仇敌等文案模板。 |
| **羁绊·物是人非模板** | `src/data/bond/emotionalBriefTemplates.json` | **5 条** | 多年未见/已故/崛起/落魄/长年相伴等叙事模板。 |

**时间线文件与事件数（按文件）**

| 文件 | 年份范围 | 事件条数 |
|------|----------|----------|
| 184_189_timeline.json | 184～189 | 5 |
| 190_192_timeline.json | 190～192 | 12 |
| 193_196_timeline.json | 193～196 | 19 |
| 197_207_timeline.json | 197～207 | 29 |
| 208_210_timeline.json | 208～210 | 8 |
| 219_222_timeline.json | 219～222 | 7 |
| 222_229_timeline.json | 222～229 | 15 |
| 229_234_timeline.json | 229～234 | 5 |
| 249_263_timeline.json | 249～263 | 15 |
| 263_265_timeline.json | 263～265 | 21 |
| 265_280_timeline.json | 265～280 | 46 |
| 280_final_timeline.json | 280 及以后 | 5 |
| **合计** | 168～280（TIME_YEAR_MIN/MAX） | **187** |

若要扩展：NPC 与 Region 需在对应 JSON 中追加条目并在逻辑层（如 contentRegistry、getNPCsForYear、getAllRegions）保持兼容；时间线只需在相应年份段的 `*_timeline.json` 里追加 event 对象即可。

---

## 一、人物篇（立绘 / 表情）

数据来源：`src/data/sanguoDb/raw/npcs_184.json`。  
NPC 在代码中以 `String(npc.id)` 注册（如 `"2001"`），立绘资源建议使用 `npc_{id}_{expression}` 作为 `asset_id`。  
每人 3 套标准表情：**正常**、**愤怒**、**忧虑**（根据 personality_traits 给出建议）。

| 武将 id | 武将名 | 性格标签 | asset_id (正常) | asset_id (愤怒) | asset_id (忧虑) | 表情建议摘要 |
|---------|--------|----------|-----------------|-----------------|-----------------|--------------|
| 2001 | 张角 | 野心勃勃、善于蛊惑、理想主义 | npc_2001_normal | npc_2001_angry | npc_2001_worry | 正常：神秘布道者；愤怒：狂热斥责异端；忧虑：大汉气数将尽 |
| 2002 | 张宝 | 勇猛、急躁、忠诚 | npc_2002_normal | npc_2002_angry | npc_2002_worry | 正常：粗犷可战；愤怒：易怒拍案；忧虑：兄长与教众安危 |
| 2003 | 张梁 | 好斗、讲义气、缺乏谋略 | npc_2003_normal | npc_2003_angry | npc_2003_worry | 正常：莽直好战；愤怒：暴怒欲动手；忧虑：战局不利焦躁 |
| 2004 | 波才 | 骁勇、善战、缺乏远见 | npc_2004_normal | npc_2004_angry | npc_2004_worry | 正常：军人冷峻；愤怒：战败或遭质疑暴怒；忧虑：粮草军心不稳 |
| 2005 | 张曼成 | 残忍、贪婪、善笼络 | npc_2005_normal | npc_2005_angry | npc_2005_worry | 正常：威压算计；愤怒：利益受损阴狠；忧虑：势力式微阴郁 |
| 2006 | 皇甫嵩 | 忠义、严谨、善用兵 | npc_2006_normal | npc_2006_angry | npc_2006_worry | 正常：沉稳儒将；愤怒：军纪被违严厉；忧虑：国事糜烂沉痛 |
| 2007 | 朱儁 | 刚直、果敢、重军纪 | npc_2007_normal | npc_2007_angry | npc_2007_worry | 正常：刚毅军人；愤怒：怯战违令震怒；忧虑：战局不利朝廷昏聩 |
| 2008 | 卢植 | 博学、正直、不善变通 | npc_2008_normal | npc_2008_angry | npc_2008_worry | 正常：学者庄重；愤怒：遭诬陷愤懑；忧虑：朝纲崩坏礼乐不存 |
| 2009 | 何进 | 外戚权贵、优柔寡断、好排场 | npc_2009_normal | npc_2009_angry | npc_2009_worry | 正常：官腔排场；愤怒：被轻视夺权恼怒；忧虑：宦官当道进退两难 |
| 2010 | 曹操 | 多疑、果断、雄才大略 | npc_2010_normal | npc_2010_angry | npc_2010_worry | 正常：机敏枭雄；愤怒：背叛失算阴鸷；忧虑：人才难求大业未竟 |
| 2011 | 夏侯惇 | 刚烈、忠勇、质朴 | npc_2011_normal | npc_2011_angry | npc_2011_worry | 正常：直率武人；愤怒：受辱或主公有难暴怒；忧虑：战事兄弟伤亡 |
| 2012 | 夏侯渊 | 疾速、勇猛、擅奇袭 | npc_2012_normal | npc_2012_angry | npc_2012_worry | 正常：精干行动派；愤怒：奇袭失败遭轻蔑；忧虑：粮道被断时机错失 |
| 2013 | 曹仁 | 稳重、善守、顾全大局 | npc_2013_normal | npc_2013_angry | npc_2013_worry | 正常：务实持重；愤怒：城防被破克制怒；忧虑：兵力不足多线告急 |
| 2014 | 曹洪 | 慷慨、忠义、好财货 | npc_2014_normal | npc_2014_angry | npc_2014_worry | 正常：豪爽略市井；愤怒：被坑钱财背叛；忧虑：军饷不继主公困顿 |
| 2015 | 孙坚 | 勇烈、果敢、轻敌 | npc_2015_normal | npc_2015_angry | npc_2015_worry | 正常：豪迈英雄气；愤怒：受挫暗算暴怒；忧虑：江东基业子嗣未立 |
| 2016 | 程普 | 老成持重、顾全大局、忠心 | npc_2016_normal | npc_2016_angry | npc_2016_worry | 正常：沉稳老将；愤怒：少辈轻狂军令不行；忧虑：主少国疑外敌环伺 |
| 2017 | 黄盖 | 刚毅、忠勇、善用火攻 | npc_2017_normal | npc_2017_angry | npc_2017_worry | 正常：直率略带火爆；愤怒：被疑受辱火爆；忧虑：战局胶着火攻未成 |
| 2018 | 韩当 | 骁勇、善骑射、低调 | npc_2018_normal | npc_2018_angry | npc_2018_worry | 正常：寡言务实；愤怒：被轻视任务失败闷怒；忧虑：边患主公安危 |
| 2019 | 刘备 | 仁德、坚韧、善于用人 | npc_2019_normal | npc_2019_angry | npc_2019_worry | 正常：温厚诚恳；愤怒：百姓遭难背信悲愤；忧虑：汉室倾颓兄弟离散 |
| 2020 | 关羽 | 忠义、骄傲、重诺 | npc_2020_normal | npc_2020_angry | npc_2020_worry | 正常：庄重略带傲气；愤怒：受辱背约凛然震怒；忧虑：兄长远征荆州不稳 |
| 2021 | 张飞 | 勇猛、暴躁、敬重士人 | npc_2021_normal | npc_2021_angry | npc_2021_worry | 正常：粗豪直来直去；愤怒：极易触发暴怒瞪眼；忧虑：大哥遇险城池被困 |
| 2022 | 袁绍 | 优柔寡断、好面子、四世三公 | npc_2022_normal | npc_2022_angry | npc_2022_worry | 正常：文雅重门第；愤怒：被驳面子兵败恼羞；忧虑：继承人内斗曹操坐大 |
| 2023 | 袁术 | 狂妄、奢侈、目光短浅 | npc_2023_normal | npc_2023_angry | npc_2023_worry | 正常：傲慢炫耀出身；愤怒：被轻视称帝受阻狂怒；忧虑：粮尽援绝众叛亲离 |
| 2024 | 刘表 | 守成、多疑、善于治理 | npc_2024_normal | npc_2024_angry | npc_2024_worry | 正常：文士谨慎；愤怒：荆州被犯遭离间疑怒；忧虑：嗣子之争曹操南下 |
| 2025 | 公孙瓒 | 刚猛、善骑射、排外 | npc_2025_normal | npc_2025_angry | npc_2025_worry | 正常：干脆军人；愤怒：被胡人袁绍挑衅暴怒；忧虑：幽州被围白马折损 |
| 2026 | 董卓 | 残暴、贪婪、专权 | npc_2026_normal | npc_2026_angry | npc_2026_worry | 正常：蛮横威慑；愤怒：遇刺反抗暴虐狂怒；忧虑：诸侯讨董内部不稳 |
| 2027 | 吕布 | 勇冠三军、反复无常、好色 | npc_2027_normal | npc_2027_angry | npc_2027_worry | 正常：嚣张目中无人；愤怒：被背叛单挑受挫狂怒；忧虑：无立锥之地众叛亲离 |
| 2028 | 貂蝉 | 美貌、机智、忠义 | npc_2028_normal | npc_2028_angry | npc_2028_worry | 正常：温柔婉约善周旋；愤怒：计谋被识破义父遇险；忧虑：离间成败生死未卜 |
| 2029 | 荀彧 | 王佐之才、忠诚、坚持原则 | npc_2029_normal | npc_2029_angry | npc_2029_worry | 正常：温文尔雅逻辑严密；愤怒：原则践踏汉室受辱沉痛；忧虑：曹操僭越汉祚将终 |
| 2030 | 郭嘉 | 奇谋、不拘小节、早逝 | npc_2030_normal | npc_2030_angry | npc_2030_worry | 正常：犀利不拘礼法；愤怒：计谋被否庸人拖累讥诮；忧虑：身体每况愈下大业未成 |
| 2031 | 周瑜 | 风流倜傥、智谋超群、气量狭小 | npc_2031_normal | npc_2031_angry | npc_2031_worry | 正常：文雅带锋芒自信；愤怒：被诸葛亮压过妒怒；忧虑：荆州未取天不假年 |
| 2032 | 诸葛亮 | 鞠躬尽瘁、谨慎、多谋 | npc_2032_normal | npc_2032_angry | npc_2032_worry | 正常：深思熟虑儒雅；愤怒：北伐受阻谗言隐忍；忧虑：先帝托孤汉室未兴 |
| 2033 | 马元义 | 组织能力强、忠诚 | npc_2033_normal | npc_2033_angry | npc_2033_worry | 正常：沉稳善于动员；愤怒：计划泄密教众受损；忧虑：起事在即洛阳局势 |
| 2034 | 赵弘 | 勇猛、鲁莽 | npc_2034_normal | npc_2034_angry | npc_2034_worry | 正常：粗犷好战；愤怒：战败遭嘲暴怒；忧虑：黄巾势衰生死未卜 |
| 2035 | 丁原 | 忠直、不善权谋 | npc_2035_normal | npc_2035_angry | npc_2035_worry | 正常：朴实刚直军人；愤怒：吕布背叛董卓乱政愤懑；忧虑：并州军心汉室将倾 |
| 2036 | 张让 | 奸诈、阿谀、专权 | npc_2036_normal | npc_2036_angry | npc_2036_worry | 正常：阴阳怪气挑拨；愤怒：失势遭清剿阴毒；忧虑：外兵入京宦官末日 |
| 2037 | 孔融 | 文人傲骨、直言敢谏、不善兵事 | npc_2037_normal | npc_2037_angry | npc_2037_worry | 正常：引经据典好辩；愤怒：礼法崩坏遭构陷愤慨；忧虑：汉室名存实亡北海难守 |
| 2038 | 陶谦 | 仁厚、保守、年老 | npc_2038_normal | npc_2038_angry | npc_2038_worry | 正常：温和长者；愤怒：徐州遭屠子嗣无能悲愤；忧虑：曹操复仇徐州安危 |
| 2039 | 卜己 | 勇猛、迷信 | npc_2039_normal | npc_2039_angry | npc_2039_worry | 正常：神神叨叨天意；愤怒：天意未应验战败癫怒；忧虑：黄巾将灭天不佑我 |
| 2040 | 傅燮 | 忠烈、刚直 | npc_2040_normal | npc_2040_angry | npc_2040_worry | 正常：正气凛然不畏权贵；愤怒：奸臣当道边将怯战震怒；忧虑：汉室将倾孤城难守 |

**人物篇 asset_id 规范**

- 立绘/表情资源：`npc_{id}_normal`、`npc_{id}_angry`、`npc_{id}_worry`，其中 `{id}` 为 `npcs_184.json` 中的数字 id（2001～2040）。
- 代码中 NPC 注册为 `String(npc.id)`（如 `"2010"`），资源加载时可据此映射到 `npc_2010_*`。

---

## 二、场景篇（Region + Scene）

### 2.1 Region（区域）

数据来源：`src/data/sanguoDb/raw/regions_184.json`。  
区域在逻辑层以数字 `id`（1001～1016）存在，建议 `asset_id` 使用 `region_{id}`。

| asset_id | 区域名 | type | 视觉风格建议 |
|----------|--------|------|----------------------|
| region_1001 | 洛阳 | 大都市 | 繁华宫殿、宫阙巍峨，铜驼街与南宫北宫，车马络绎、帝都气象 |
| region_1002 | 邺城 | 一般 | 漳水之滨，城郭严整，铜雀三台与文昌殿，市井繁华、商贾云集 |
| region_1003 | 许昌 | 一般 | 中原腹地，许昌宫与毓秀台，屯田兴盛、城池坚固 |
| region_1004 | 陈留 | 一般 | 兖州通衢，古驿道与城门，商旅往来、兵家必争 |
| region_1005 | 濮阳 | 一般 | 黄河之畔，城楼与渡口，水陆交汇、兵燹频仍 |
| region_1006 | 谯县 | 一般 | 淮北平原，曹氏宗祠与古井，民风彪悍、豪杰辈出 |
| region_1007 | 下邳 | 一般 | 泗水环绕，白门楼与城墙，南北咽喉、战事不断 |
| region_1008 | 小沛 | 一般 | 沛国小城，田野荒芜，驿亭与屯兵处，兵粮匮乏、屡遭攻伐 |
| region_1009 | 汝南 | 一般 | 汝水之南，沃野千里，黄巾营寨与袁氏故宅，城邑林立 |
| region_1010 | 宛城 | 一般 | 淯水之滨，城高池深，码头与张绣府邸，商贸繁盛 |
| region_1011 | 襄阳 | 一般 | 汉水之畔，鹿门山与诸葛亮故居，山川形胜、水陆要冲 |
| region_1012 | 新野 | 一般 | 南阳盆地，小县僻壤，刘备宅邸与古驿道，田野萧疏 |
| region_1013 | 上党 | 一般 | 太行险地，壶关与古道，山道崎岖、易守难攻 |
| region_1014 | 晋阳 | 一般 | 汾水之阳，边塞重镇，胡汉杂居、城垣坚固 |
| region_1015 | 蓟县 | 一般 | 燕山脚下，幽州边关，关隘与驻军处，乌桓频扰 |
| region_1016 | 虎牢关 | 关隘 | 雄关险要，汜水与吕布营寨，峭壁临河、一夫当关 |

### 2.2 Scene（场景类型）

数据来源：`src/config/index.ts` 中的 `SCENE_DISPLAY_NAMES`。  
玩家 `location.scene` 使用字符串 key（如 `village`、`city`），建议 `asset_id` 使用 `scene_{key}`。

| asset_id | 场景名 | 视觉风格建议 |
|----------|--------|----------------------|
| scene_village | 村庄 | 茅舍、田野、炊烟，荒凉土路与乡里人烟 |
| scene_city | 城内 | 街巷、市集、城门内景，繁华或战乱后的城郭 |
| scene_camp | 营地 | 营帐、篝火、辕门，军士与旗号 |
| scene_inn | 客栈 | 酒旗、堂桌、客房，江湖气息与过路客 |
| scene_temple | 庙宇 | 香炉、神像、古刹，清幽或破败 |
| scene_prison | 牢狱 | 铁栏、囚室、狱卒，阴冷压抑 |

**场景篇 asset_id 规范**

- 区域：`region_{id}`，`{id}` 为 `regions_184.json` 中的 1001～1016。
- 场景类型：`scene_village`、`scene_city`、`scene_camp`、`scene_inn`、`scene_temple`、`scene_prison`，与 `SCENE_DISPLAY_NAMES` 的 key 一致。

---

## 三、ID 与代码对照速查

| 用途 | 代码位置 | asset_id 格式 | 示例 |
|------|----------|----------------|------|
| NPC 立绘/表情 | `npcs_184.json` 的 `id`、contentRegistry `"npc", String(id)` | `npc_{id}_normal/angry/worry` | npc_2010_normal |
| 区域背景/氛围 | `regions_184.json` 的 `id` | `region_{id}` | region_1001 |
| 场景类型背景 | `config` 的 `SCENE_DISPLAY_NAMES` 的 key | `scene_{key}` | scene_village |

以上 ID 可直接用于资源目录命名、配置表或代码中的 `asset_id` 引用，与现有 sanguoDb 与 config 定义保持一致。
