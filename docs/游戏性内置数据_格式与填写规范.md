# 游戏性内置数据：格式要求与填写规范

本文档面向「数据填充 AI」：在现有 JSON 结构上补全或优化以下字段，使旅行沉浸、季节感官、地标环境、民间传闻等玩法有高质量文案与数据支撑。**不要改动已有字段的 key、类型或文件结构**，只增补或改写指定字段内容。

---

## 一、区域数据（regions）

**文件路径**：`src/data/sanguoDb/raw/regions_184.json`  
**结构**：JSON 数组，每项为一条 `RegionRecord`。需关注以下**可选**字段的补全与优化。

### 1.1 `landscape_description`（区域地貌描述）

| 项目 | 说明 |
|------|------|
| **类型** | `string`（可选） |
| **用途** | 旅行叙事：玩家移动时在「路途背景」中展示出发地/目的地一带的风貌，以及季节感官。 |
| **长度** | 建议 15～40 字，一句或两句，古风白话。 |
| **风格** | 偏视觉与氛围：官道、驿路、关隘、河川、田野、城郭等，避免现代词汇。 |
| **与 type 的关系** | 可与 `type`（大都市/一般/关隘）一致：大都市偏繁华/车马，关隘偏险要/山道，一般偏田野/驿道。 |

**示例**（保持现有 key，只改 value 即可）：

```json
"landscape_description": "帝都气象，官道宽阔，车马络绎。"
"landscape_description": "关隘险要，山道崎岖，易守难攻。"
"landscape_description": "小城僻壤，乡道狭窄，田野荒芜。"
```

**要求**：为 `regions_184.json` 中**每一条** region 填写或优化 `landscape_description`，没有则新增该 key。

---

### 1.2 `landmarks`（区域地标列表）

| 项目 | 说明 |
|------|------|
| **类型** | `string[]`（可选） |
| **用途** | 玩家身处或到达该区域时，逻辑层把地标名注入 `event_context`，引导 LLM 在环境描写中自然融入 1～2 处。 |
| **数量** | 每区域建议 3～6 个地标。 |
| **命名** | 短名为主（2～6 字），如城门、台观、河名、关口、市集名等，符合东汉三国称谓。 |
| **约束** | 仅名称，不要描述；需在该区域史实或常见设定中存在（可查《三国志》/演义/地理志）。 |

**示例**：

```json
"landmarks": ["南宫", "北宫", "铜驼街", "开阳门"]
"landmarks": ["铜雀台", "金虎台", "冰井台", "文昌殿"]
"landmarks": ["虎牢关城", "汜水"]
```

**要求**：为 `regions_184.json` 中**每一条** region 填写或优化 `landmarks` 数组；若某区域确实难以考证地标，可保留空数组 `[]`，但尽量不少于 2 个。

---

## 二、时间线事件数据（timeline）——`narrative_hooks`

**文件路径**：  
- `src/data/sanguoDb/raw/184_189_timeline.json`  
- `src/data/sanguoDb/raw/190_192_timeline.json`  
- …（同目录下所有 `*_timeline.json`）

**结构**：每个文件为 JSON 数组，每项为一条时间线事件，包含 `event_id`、`year`、`month`、`event_name`、`summary`、`narrative_hooks` 等。此处只规范 **`narrative_hooks`** 的填写。

### 2.1 `narrative_hooks`（叙事/传闻用短句）

| 项目 | 说明 |
|------|------|
| **类型** | `string[]`（可选） |
| **用途** | 1）时间跳跃后「民间传闻」随机抽 1～2 条，以「听说……」形式注入，供 NPC 在对话中自然提及；2）长篇叙事中的历史事件口吻与岁月沧桑感。 |
| **数量** | 每事件建议 2～5 条，风格可略有差异（偏传闻 / 偏史述 / 偏百姓视角）。 |
| **长度** | 单条建议 15～50 字，便于直接拼接为「听说……」或嵌入旁白。 |
| **风格** | 口语化、可被转述的「传闻」感，避免教科书式陈述；可带情绪（震惊、叹息、期待）。 |

**示例**（来自 184 年黄巾事件）：

```json
"narrative_hooks": [
  "太平道信徒头裹黄巾，高呼「苍天已死，黄天当立」，各地烽烟四起。",
  "朝廷震动，急令各州郡镇压，天下自此陷入战乱。",
  "百姓流离失所，豪强纷纷招募私兵，乱世序幕拉开。"
]
```

**要求**：  
- 为**所有** timeline JSON 中、当前缺少 `narrative_hooks` 或数组为空的事件，补全 2～5 条；  
- 已有 `narrative_hooks` 的事件，可按上述长度与风格做一次优化，不改变原意。

---

## 三、汇总检查清单（给数据 AI 自检）

完成填写后请自检：

- [ ] **regions_184.json**：每条 region 均有 `landscape_description`（string）和 `landmarks`（string[]，建议非空）。
- [ ] **所有 \*_timeline.json**：每条事件均有 `narrative_hooks`（string[]），且每条约 15～50 字、适合「听说……」或叙事嵌入。
- [ ] 未删除或重命名任何已有 key；未改动 `id`、`name`、`year`、`month`、`event_id`、`event_name` 等主数据。
- [ ] JSON 语法正确（可交给 `JSON.parse` 校验）。

---

## 四、技术侧说明（供参考，数据 AI 可不改代码）

- **区域 type**：仅允许 `"大都市"`、`"一般"`、`"关隘"` 三种，用于移动耗时计算，请勿在数据中新增其它 type 值。  
- **季节感官**：由代码根据 `world_state.time.month` 自动生成（如盛夏蝉鸣、深秋落叶），无需在区域或时间线中再写季节文案。  
- **状态感知叙事**：依赖 `player_state.stamina` 与 `attrs.charm`，无需额外数据文件。

如需对字段含义或用途做扩展（例如新增「区域特产」「季节事件」等），请先与开发方确认再增 key，避免破坏现有构建与类型。
