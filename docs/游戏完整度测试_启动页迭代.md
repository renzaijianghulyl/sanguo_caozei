# 游戏完整度测试 · 启动页迭代

> 完成启动页（splash）实现后的流程验证与优化点整理  
> 日期：2026-02-11

---

## 一、本次实现内容

### 1.1 启动页（splash）

- **位置**：`src/ui/splash.ts`
- **内容**：
  - 纯色背景占位（`#0f172a`）
  - 游戏标题「弈笔草莽」
  - 副标题「三国文字冒险」
  - 提示文案「点击屏幕开始游戏」
- **交互**：点击屏幕任意处进入下一步

### 1.2 流程串联

| 阶段 | 进入条件 | 下一步 |
|------|----------|--------|
| **splash** | 冷启动 / 首次进入 | 有存档 → playing；无存档 → characterCreation |
| **characterCreation** | 无存档时从 splash 进入，或点击「重新开始」 | 完成创建 → playing |
| **playing** | 有存档从 splash 进入，或完成角色创建 | 正常游戏 |

---

## 二、流程验证（代码级）

| 路径 | 验证结果 | 说明 |
|------|----------|------|
| 冷启动无存档 → splash → 点击 → characterCreation | ✅ | `currentSaveData` 为 null 时进入创建页 |
| 冷启动有存档 → splash → 点击 → playing | ✅ | `loadLatestSave()` 在 init 已执行，`currentSaveData` 有值 |
| characterCreation → 开始游戏 → playing | ✅ | `confirmCharacterCreation()` 创建存档并切换 phase |
| playing → 重新开始 → characterCreation | ✅ | `restartGame()` 清空存档并返回创建页 |

---

## 三、本次迭代相关优化点

### 3.1 启动页体验

| 序号 | 优化项 | 优先级 | 说明 |
|------|--------|--------|------|
| 1 | 「点击屏幕开始游戏」增加轻微闪烁/呼吸动画 | 中 | 提升可发现性，避免用户误以为页面未加载完成 |
| 2 | 启动页背景替换为正式素材 | 低 | 当前为纯色占位，后续可接入古风背景图 |
| 3 | 若有存档，启动页可区分「继续游戏」/「新游戏」 | 低 | 当前统一为「点击开始」，有存档直接续玩，无存档进创建页 |

### 3.2 角色创建页 → 游戏页衔接

| 序号 | 优化项 | 优先级 | 说明 |
|------|--------|--------|------|
| 4 | 创建完成后的过渡反馈 | 中 | 点击「开始游戏」后可有简短过渡动画或提示，再进入 playing |
| 5 | 创建页与游戏页视觉一致性 | 低 | 背景色、字体已统一，可检查不同机型下的表现 |

### 3.3 与现有优化建议的衔接

本次启动页实现后，建议优先跟进《产品体验测试与优化建议.md》中的：

- **高优先级**：新手引导（开局后提示如何输入）、裁决等待加载提示
- **中优先级**：帮助内容、存档入口、当前位置展示

---

## 四、回归测试建议

在微信开发者工具中建议按以下顺序手动验证：

1. **无存档冷启动**
   - 清除本地存储
   - 启动游戏 → 应看到启动页
   - 点击屏幕 → 进入角色创建页
   - 完成创建 → 进入游戏主界面

2. **有存档冷启动**
   - 在游戏中手动存档
   - 关闭/重启小游戏
   - 启动 → 应看到启动页
   - 点击屏幕 → 直接进入游戏（跳过创建页）

3. **重新开始**
   - 在游戏中点击「重新开始」
   - 应直接进入角色创建页（不经过启动页）

---

## 五、构建与测试状态

- `npm run build`：✅ 通过
- `npm test`：✅ 13 个用例通过
- 无新增 linter 报错
